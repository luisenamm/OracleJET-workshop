{"version":3,"sources":["../debug/ojflattenedtreedataproviderview.js"],"names":["define","oj","ojSet","ojeventtarget","KeySet","ojobservable","ojMap","Object","prototype","hasOwnProperty","call","FlattenedTreeDataProviderView","[object Object]","dataProvider","options","this","_DATAPROVIDER","_EXPANDED","_KEY","_PARENTKEY","_INDEXFROMPARENT","_TREEDEPTH","_ISLEAF","_KEYS","_OFFSET","_SIZE","_DONE","_VALUE","_DATA","_REFRESH","_MUTATE","_SORTCRITERIA","_FILTERCRITERION","_ATTRIBUTES","_METADATA","_RESULTS","_FETCHPARAMETERS","_CONTAINSPARAMETERS","_CONTAINSKEYS","_FETCHBYKEYS","_FETCHBYOFFSET","_AFTERKEYS","_ADDBEFOREKEYS","_ADD","_REMOVE","_UPDATE","_INDEXES","_ADDEVENTLISTENER","AsyncIterable","_parent","_asyncIterator","Symbol","asyncIterator","AsyncIterator","_nextFunc","_params","result","Promise","resolve","AsyncIteratorYieldResult","value","AsyncIteratorReturnResult","Item","metadata","data","FlattenedTreeItemMetadata","key","parentKey","indexFromParent","treeDepth","isLeaf","FetchListParameters","size","sortCriteria","filterCriterion","FetchListResult","fetchParameters","FetchByOffsetParameters","offset","attributes","FetchByOffsetResults","results","done","FetchByKeysResults","ContainsKeysResults","containsParameters","DataProviderMutationEventDetail","add","remove","update","DataProviderRefreshEventDetail","disregardAfterKey","DataProviderOperationEventDetail","keys","indexes","DataProviderAddOperationEventDetail","afterKeys","addBeforeKeys","self","expanded","ExpandedKeySet","_expandedObservable","BehaviorSubject","_getExpandedObservableValue","addEventListener","_handleUnderlyingMutation","bind","_handleUnderlyingRefresh","_cache","_iterators","_done","mutationEventDetail","operationAddEventDetail","operationRemoveEventDetail","operationUpdateEventDetail","addEvent","detail","length","addMetadataArray","addDataArray","addIndexArray","addParentKeys","addAfterKeySet","Set","addKeySet","parentKeys","forEach","index","_isExpanded","_getItemByKey","newIndex","_getItemIndexByKey","parentIndex","_getLastItemByParentKey","item","_updateItemMetadata","_spliceItemToCache","push","_incrementIteratorOffset","removeEvent","removeKeys","map","removeMetadataArray","removeDataArray","removeIndexArray","removeKeySet","count","_getLocalDescendentCount","cacheIndex","splice","_decrementIteratorOffset","updateEvent","updateMetadataArray","updateDataArray","updateIndexArray","updateKeySet","itemIndex","newData","newMetadata","getChildDataProvider","finalMutationEventDetail","dispatchEvent","DataProviderMutationEvent","_clearCache","DataProviderRefreshEvent","completionPromise","params","containsKeys","fetchByKeys","then","byKeysResult","searchKey","cachedItem","set","fetchAttributes","_isSameCriteria","_checkCacheByOffset","_getFetchByOffsetResultsFromCache","_currentSortCriteria","_currentFilterCriteria","_fetchByOffset","_fetchSize","newIterator","currentOffset","get","updatedParams","fetchByOffset","capabilityName","getCapability","isEmpty","expandKey","slice","undefined","_lastParams","remainingSize","newParams","_fetchChildrenByOffsetFromDataProvider","lastEntry","_getLastEntry","_getRemainingSize","_fetchChildrenByOffsetFromAncestors","dataprovider","finalParams","handleFetchFromAncestors","lastParentKey","lastEntryParentKey","lastEntryParentIndex","childDataProvider","handleNextItemInResults","shift","updatedItem","_pushItemToCache","a","fn","reduce","p","filter","has","keySet","toExpand","createOptimizedKeySet","toCollapse","_oldExpanded","oldSet","newSet","isAddAll","getExpandedObservable","next","newDeletedValues","deletedValues","oldDeletedValues","newValues","values","oldValues","expandPromise","_expand","_collapse","expandReturnObject","fetchedCountMap","previousCacheIndex","currentCacheIndex","refreshEvent","returnItem","some","i","_getLastIndex","reverse","depth","lastIndex","j","_getEntry","promises","all","afterKeySet","metadataArray","dataArray","indexArray","Map","insertIndex","afterKey","iterator","initialSet","initialMap","createOptimizedKeyMap","_registerLegacyNamespaceProp","EventTargetMixin","applyMixin"],"mappings":"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"}