{"version":3,"sources":["../debug/ojjoiningdataprovider.js"],"names":["define","ojMap","ojSet","ojeventtarget","Logger","Object","prototype","hasOwnProperty","call","JoiningDataProvider","[object Object]","baseDataProvider","options","this","_mapJoinAttributes","Map","_fks","_transform","_joinDPs","JoiningAsyncIterable","_parent","params","_asyncIterator","Symbol","asyncIterator","JoiningAsyncIterator","_baseIterator","_params","next","then","result","_fetchNext","baseResult","undefined","value","_joiningData","data","joinedData","FetchByKeysResults","fetchParameters","results","_FETCHPARAMETERS","_RESULTS","FetchByOffsetResults","done","_DONE","Item","metadata","_METADATA","_DATA","ItemMetadata","key","_KEY","_getJoinSpec","baseParams","attributes","_seperateBaseJoinAttributes","asyncIterable","fetchFirst","baseAttributes","keys","scope","fetchByKeys","baseResults","metaData","keyValues","i","forEach","_fetchByKeyResultsToArray","joinData","set","clientId","filterCriterion","offset","size","sortCriteria","fetchByOffset","length","resultArray","containsKeys","getTotalSize","totalSize","isEmpty","capabilityName","getCapability","initialSet","initialMap","map","joins","_joinAlias","joinInfo","foreignKeyMapping","foreignKey","foreignKeys","transform","joinedDataProvider","origAttr","iBase","alias","attr","String","name","bJoinAlias","j","has","joinAttrs","get","concat","k","fk","includes","Array","baseData","Promise","resolve","fkValues","promises","_getFKValues","joinDP","capability","implementation","warn","all","resultMetadata","resultData","_assignAliasData","fks","vals","transformParam","item","aliasData","_REFRESH","_MUTATE","_ADDEVENTLISTENER","EventTargetMixin","applyMixin"],"mappings":"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"}