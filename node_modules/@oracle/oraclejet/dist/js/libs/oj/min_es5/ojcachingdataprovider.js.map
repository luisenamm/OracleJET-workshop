{"version":3,"sources":["../debug_es5/ojcachingdataprovider.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","define","Logger","CacheEvictionStrategy","CacheStatus","FetchDirection","AsyncIteratorWrapper","asyncIterator","cache","cacheEntries","this","value","_this","promise","next","then","result","start","data","end","concat","metadata","done","push","miss","status","READY","AsyncIterableWrapper","asyncIterable","_this2","Symbol","CachingDataProvider","dataProvider","options","strategy","NEVER","prefetching","currentStart","CACHE_MISS_THRESHOLD","startIndex","cacheQueue","modelEventHandler","_handleModelEvent","bind","addEventListener","removeEventListener","params","_resetCache","fetchFirst","fetchByKeys","containsKeys","_this3","undefined","proximity","size","direction","UP","offset","DOWN","_isInCache","info","forEach","cacheInfo","FETCHING","_log","fetchByOffsetPromise","Promise","resolve","reject","fetchByOffset","results","item","_getFetchByOffsetResult","fetchParameters","_recalibrateCache","_updateCacheEntries","PURGED","relStart","relEnd","getTotalSize","isEmpty","capabilityName","getCapability","eventType","listener","event","dispatchEvent","type","_handleRowsRefreshed","detail","add","_handleRowsAdded","remove","_handleRowsRemoved","update","_handleRowsUpdated","_this4","_dumpCacheStatus","_loop","entry","_prefetchRange","success","_this5","keyField","callback1","callback2","_this6","indexes","index","_this7","_handleRowsMutated","splice","_this8","Math","max","_this9","msg","_this10","_getStatusText"],"mappings":"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"}