{"version":3,"sources":["../debug_es5/ojjoiningdataprovider.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","define","ojMap","ojSet","ojeventtarget","Logger","hasOwnProperty","call","JoiningDataProvider","baseDataProvider","options","this","_mapJoinAttributes","Map","_fks","_transform","_joinDPs","JoiningAsyncIterable","_class","_parent","params","_asyncIterator","_this","Symbol","asyncIterator","JoiningAsyncIterator","_class2","_baseIterator","_params","value","next","then","result","_this2","_fetchNext","baseResult","undefined","_joiningData","data","joinedData","FetchByKeysResults","_class3","fetchParameters","results","_FETCHPARAMETERS","_RESULTS","FetchByOffsetResults","_class4","done","_DONE","Item","_class5","metadata","_METADATA","_DATA","ItemMetadata","_class6","_KEY","_getJoinSpec","baseParams","attributes","_seperateBaseJoinAttributes","asyncIterable","fetchFirst","_this3","baseAttributes","keys","scope","fetchByKeys","baseResults","metaData","keyValues","forEach","_fetchByKeyResultsToArray","joinData","set","_this4","clientId","filterCriterion","offset","size","sortCriteria","fetchByOffset","resultArray","_i","containsKeys","getTotalSize","totalSize","isEmpty","capabilityName","getCapability","initialSet","initialMap","map","joins","_joinAlias","joinInfo","foreignKeyMapping","foreignKey","foreignKeys","transform","joinedDataProvider","origAttr","iBase","attr","alias","String","name","bJoinAlias","j","has","joinAttrs","get","concat","k","fk","includes","Array","baseData","_this5","Promise","resolve","fkValues","promises","_getFKValues","joinDP","capability","implementation","warn","all","resultMetadata","resultData","_i2","_assignAliasData","fks","vals","transformParam","_k","item","aliasData","_REFRESH","_MUTATE","_ADDEVENTLISTENER","EventTargetMixin","applyMixin"],"mappings":"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"}