{"version":3,"sources":["../debug_es5/ojdomscroller.js"],"names":["define","oj","$","DataCollectionUtils","Logger","Object","prototype","hasOwnProperty","call","DomScroller","element","dataprovider","options","this","_data","_asyncIterator","asyncIterator","_element","_contentElement","contentElement","_fetchSize","fetchSize","_maxCount","maxCount","_rowCount","initialRowCount","_successCallback","success","_requestCallback","request","_errorCallback","error","_isOverflowCallback","isOverflow","_beforeFetchCallback","beforeFetch","_beforeScrollCallback","beforeScroll","_localKeyValidator","localKeyValidator","_registerDataSourceEventListeners","_fetchTrigger","fetchTrigger","isNaN","_initialScrollTop","scrollTop","_lastFetchTrigger","_isScrollTriggeredByMouseWheel","_checkViewportCount","elem","_getScrollEventElement","_scrollEventListener","_getScrollTop","maxScrollTop","scrollHeight","clientHeight","_handleScrollerScrollTop","bind","addEventListener","_wheelEventListener","passive","_mouseDownEventListener","setAsyncIterator","setFetchTrigger","document","body","documentElement","window","calculateOffsetTop","ancestor","offset","current","contains","offsetTop","offsetParent","undefined","_useBodyScrollTop","destroy","_unregisterDataSourceEventListeners","removeEventListener","checkViewport","CHECKVIEWPORT_THRESHOLD","warn","_fetchMoreRows","Promise","resolve","_doFetch","self","isMouseWheel","_fetchPromise","then","result","_nextFetchTrigger","reason","_lastMaxScrollTop","Math","max","diff","AgentUtils","getAgentInfo","browser","BROWSER","EDGE","remainingCount","next","_result","value","data","length","maxCountLimit","slice","metadata","fetchParameters","size","done","_handleDataRowMutateEvent","event","eventDetail","indexes","keys","detail","add","addBeforeKeys","afterKeys","_handleDataRowAddedOrRemoved","remove","callback","i","rowIdx","keyValidator","forEach","key","ev","_dataProviderEventHandlers","push","eventType","eventHandler"],"mappings":"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"}